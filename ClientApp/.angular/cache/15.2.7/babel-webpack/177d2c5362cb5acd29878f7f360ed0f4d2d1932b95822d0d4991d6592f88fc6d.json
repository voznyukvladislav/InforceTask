{"ast":null,"code":"import { Message } from 'src/app/data/message';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/url-service/url.service\";\nimport * as i2 from \"src/app/services/settings-service/settings.service\";\nimport * as i3 from \"@angular/forms\";\nexport class ShortenerComponent {\n  constructor(urlService, settingsService) {\n    this.urlService = urlService;\n    this.settingsService = settingsService;\n    this.originalUrl = \"\";\n    this.shortenedUrl = \"\";\n    this.hashLength = 0;\n    this.settingsService.hashLength.subscribe(hashLength => this.hashLength = hashLength);\n  }\n  checkUrl() {\n    this.urlService.checkUrl(this.originalUrl, this.hashLength).subscribe(shortenedUrl => this.shortenedUrl = shortenedUrl.shortenedUrl, error => {\n      this.originalUrl = \"\";\n      this.shortenedUrl = \"\";\n    });\n  }\n  addUrl() {\n    if (this.originalUrl && this.shortenedUrl) {\n      this.urlService.addUrl(this.originalUrl, this.shortenedUrl).subscribe(ok => {\n        this.originalUrl = \"\";\n        this.shortenedUrl = \"\";\n        alert(Message.getString(ok));\n      }, error => alert(Message.getString(error.error)));\n    }\n  }\n}\nShortenerComponent.ɵfac = function ShortenerComponent_Factory(t) {\n  return new (t || ShortenerComponent)(i0.ɵɵdirectiveInject(i1.UrlService), i0.ɵɵdirectiveInject(i2.SettingsService));\n};\nShortenerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ShortenerComponent,\n  selectors: [[\"app-shortener\"]],\n  decls: 8,\n  vars: 2,\n  consts: [[1, \"shortener-wrapper\"], [1, \"header\"], [1, \"shortener-form\"], [\"type\", \"text\", \"placeholder\", \"Original URL...\", 1, \"input\", 3, \"ngModel\", \"input\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Shortened URL...\", \"readonly\", \"\", 1, \"input-readonly\", 3, \"value\"], [1, \"button\", 3, \"click\"]],\n  template: function ShortenerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2, \"Shortener\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"input\", 3);\n      i0.ɵɵlistener(\"input\", function ShortenerComponent_Template_input_input_4_listener() {\n        return ctx.checkUrl();\n      })(\"ngModelChange\", function ShortenerComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.originalUrl = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"input\", 4);\n      i0.ɵɵelementStart(6, \"div\", 5);\n      i0.ɵɵlistener(\"click\", function ShortenerComponent_Template_div_click_6_listener() {\n        return ctx.addUrl();\n      });\n      i0.ɵɵtext(7, \"Add\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.originalUrl);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"value\", ctx.shortenedUrl);\n    }\n  },\n  dependencies: [i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\".shortener-wrapper[_ngcontent-%COMP%] {\\r\\n    background-color: var(--header-color);\\r\\n    border: 1px solid black;\\r\\n    box-shadow: 0 0 5px black;\\r\\n    min-width: 700px;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n}\\r\\n.header[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    padding: 10px;\\r\\n    background-color: var(--dark-color);\\r\\n    color: var(--font-color);\\r\\n    font-size: var(--title-font-size);\\r\\n}\\r\\n.shortener-form[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    gap: 10px;\\r\\n    padding: 20px;\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n.input[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    padding: 5px;\\r\\n    box-sizing: border-box;\\r\\n    transition: var(--main-transition);\\r\\n    border: 0;\\r\\n    outline: 1px solid var(--secondary-color);\\r\\n    font-size: var(--font-size);\\r\\n    background-color: var(--dark-color);\\r\\n    color: var(--font-color);\\r\\n}\\r\\n.input-readonly[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    padding: 5px;\\r\\n    box-sizing: border-box;\\r\\n    transition: var(--main-transition);\\r\\n    border: 0;\\r\\n    outline: 1px solid var(--secondary-color);\\r\\n    font-size: var(--font-size);\\r\\n    background-color: var(--dark-color);\\r\\n    color: var(--font-color);\\r\\n}\\r\\n.input[_ngcontent-%COMP%]:focus {\\r\\n    outline: 5px solid var(--secondary-color);\\r\\n    transform: scale(var(--scale-after));  \\r\\n}\\r\\n.button[_ngcontent-%COMP%] {\\r\\n    padding: 10px 20px;\\r\\n    font-size: var(--title-font-size);\\r\\n    box-sizing: border-box;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    background-color: var(--dark-color);\\r\\n    border: 1px solid var(--secondary-color);\\r\\n    color: var(--font-color);\\r\\n    transition: var(--main-transition);\\r\\n    cursor: pointer;\\r\\n    border-radius: 30px;\\r\\n    transform: scale(var(--scale-before));\\r\\n}\\r\\n.button[_ngcontent-%COMP%]:hover {\\r\\n    transform: scale(var(--scale-after));\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9zaG9ydGVuZXIvc2hvcnRlbmVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQ0FBcUM7SUFDckMsdUJBQXVCO0lBQ3ZCLHlCQUF5QjtJQUN6QixnQkFBZ0I7SUFDaEIsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixtQkFBbUI7QUFDdkI7QUFDQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2IsbUNBQW1DO0lBQ25DLHdCQUF3QjtJQUN4QixpQ0FBaUM7QUFDckM7QUFDQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsU0FBUztJQUNULGFBQWE7SUFDYixzQkFBc0I7QUFDMUI7QUFDQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osc0JBQXNCO0lBQ3RCLGtDQUFrQztJQUNsQyxTQUFTO0lBQ1QseUNBQXlDO0lBQ3pDLDJCQUEyQjtJQUMzQixtQ0FBbUM7SUFDbkMsd0JBQXdCO0FBQzVCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLHNCQUFzQjtJQUN0QixrQ0FBa0M7SUFDbEMsU0FBUztJQUNULHlDQUF5QztJQUN6QywyQkFBMkI7SUFDM0IsbUNBQW1DO0lBQ25DLHdCQUF3QjtBQUM1QjtBQUNBO0lBQ0kseUNBQXlDO0lBQ3pDLG9DQUFvQztBQUN4QztBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLGlDQUFpQztJQUNqQyxzQkFBc0I7SUFDdEIsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsbUNBQW1DO0lBQ25DLHdDQUF3QztJQUN4Qyx3QkFBd0I7SUFDeEIsa0NBQWtDO0lBQ2xDLGVBQWU7SUFDZixtQkFBbUI7SUFDbkIscUNBQXFDO0FBQ3pDO0FBQ0E7SUFDSSxvQ0FBb0M7QUFDeEMiLCJzb3VyY2VzQ29udGVudCI6WyIuc2hvcnRlbmVyLXdyYXBwZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taGVhZGVyLWNvbG9yKTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDVweCBibGFjaztcclxuICAgIG1pbi13aWR0aDogNzAwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuLmhlYWRlciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kYXJrLWNvbG9yKTtcclxuICAgIGNvbG9yOiB2YXIoLS1mb250LWNvbG9yKTtcclxuICAgIGZvbnQtc2l6ZTogdmFyKC0tdGl0bGUtZm9udC1zaXplKTtcclxufVxyXG4uc2hvcnRlbmVyLWZvcm0ge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBnYXA6IDEwcHg7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxufVxyXG4uaW5wdXQge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgdHJhbnNpdGlvbjogdmFyKC0tbWFpbi10cmFuc2l0aW9uKTtcclxuICAgIGJvcmRlcjogMDtcclxuICAgIG91dGxpbmU6IDFweCBzb2xpZCB2YXIoLS1zZWNvbmRhcnktY29sb3IpO1xyXG4gICAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUpO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFyay1jb2xvcik7XHJcbiAgICBjb2xvcjogdmFyKC0tZm9udC1jb2xvcik7XHJcbn1cclxuLmlucHV0LXJlYWRvbmx5IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIHRyYW5zaXRpb246IHZhcigtLW1haW4tdHJhbnNpdGlvbik7XHJcbiAgICBib3JkZXI6IDA7XHJcbiAgICBvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tc2Vjb25kYXJ5LWNvbG9yKTtcclxuICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplKTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRhcmstY29sb3IpO1xyXG4gICAgY29sb3I6IHZhcigtLWZvbnQtY29sb3IpO1xyXG59XHJcbi5pbnB1dDpmb2N1cyB7XHJcbiAgICBvdXRsaW5lOiA1cHggc29saWQgdmFyKC0tc2Vjb25kYXJ5LWNvbG9yKTtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUodmFyKC0tc2NhbGUtYWZ0ZXIpKTsgIFxyXG59XHJcbi5idXR0b24ge1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgZm9udC1zaXplOiB2YXIoLS10aXRsZS1mb250LXNpemUpO1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kYXJrLWNvbG9yKTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXNlY29uZGFyeS1jb2xvcik7XHJcbiAgICBjb2xvcjogdmFyKC0tZm9udC1jb2xvcik7XHJcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1tYWluLXRyYW5zaXRpb24pO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMzBweDtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUodmFyKC0tc2NhbGUtYmVmb3JlKSk7XHJcbn1cclxuLmJ1dHRvbjpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06IHNjYWxlKHZhcigtLXNjYWxlLWFmdGVyKSk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,OAAO,QAAQ,sBAAsB;;;;;AAS9C,OAAM,MAAOC,kBAAkB;EAM7BC,YAAoBC,UAAsB,EAAUC,eAAgC;IAAhE,eAAU,GAAVD,UAAU;IAAsB,oBAAe,GAAfC,eAAe;IAJnE,gBAAW,GAAW,EAAE;IACxB,iBAAY,GAAW,EAAE;IACzB,eAAU,GAAW,CAAC;IAGpB,IAAI,CAACA,eAAe,CAACC,UAAU,CAACC,SAAS,CACvCD,UAAU,IAAI,IAAI,CAACA,UAAU,GAAGA,UAAU,CAC3C;EACH;EAEAE,QAAQ;IACN,IAAI,CAACJ,UAAU,CAACI,QAAQ,CAAC,IAAI,CAACC,WAAW,EAAE,IAAI,CAACH,UAAU,CAAC,CAACC,SAAS,CAClEG,YAAiB,IAAK,IAAI,CAACA,YAAY,GAAGA,YAAY,CAACA,YAAsB,EAC9EC,KAAK,IAAG;MACN,IAAI,CAACF,WAAW,GAAG,EAAE;MACrB,IAAI,CAACC,YAAY,GAAG,EAAE;IACxB,CAAC,CACF;EACH;EAEAE,MAAM;IACJ,IAAI,IAAI,CAACH,WAAW,IAAI,IAAI,CAACC,YAAY,EAAE;MACzC,IAAI,CAACN,UAAU,CAACQ,MAAM,CAAC,IAAI,CAACH,WAAW,EAAE,IAAI,CAACC,YAAY,CAAC,CAACH,SAAS,CACnEM,EAAE,IAAG;QACH,IAAI,CAACJ,WAAW,GAAG,EAAE;QACrB,IAAI,CAACC,YAAY,GAAG,EAAE;QAEtBI,KAAK,CAACb,OAAO,CAACc,SAAS,CAACF,EAAa,CAAC,CAAC;MACzC,CAAC,EACDF,KAAK,IAAIG,KAAK,CAACb,OAAO,CAACc,SAAS,CAACJ,KAAK,CAACA,KAAgB,CAAC,CAAC,CAC1D;;EAEL;;AAlCWT,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAc;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX/BC,8BAA+B;MACPA,yBAAS;MAAAA,iBAAM;MACnCA,8BAA4B;MACuCA;QAAA,OAASC,cAAU;MAAA,EAAC;QAAA;MAAA;MAAnFD,iBAA8G;MAC9GA,2BAAyG;MACzGA,8BAAuC;MAAnBA;QAAA,OAASC,YAAQ;MAAA,EAAC;MAACD,mBAAG;MAAAA,iBAAM;;;MAFoCA,eAAyB;MAAzBA,yCAAyB;MACnEA,eAAsB;MAAtBA,wCAAsB","names":["Message","ShortenerComponent","constructor","urlService","settingsService","hashLength","subscribe","checkUrl","originalUrl","shortenedUrl","error","addUrl","ok","alert","getString","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\LEGA-USER\\source\\repos\\InforceTask\\ClientApp\\src\\app\\components\\shortener\\shortener.component.ts","C:\\Users\\LEGA-USER\\source\\repos\\InforceTask\\ClientApp\\src\\app\\components\\shortener\\shortener.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Constants } from 'src/app/data/constants';\nimport { Message } from 'src/app/data/message';\nimport { SettingsService } from 'src/app/services/settings-service/settings.service';\nimport { UrlService } from 'src/app/services/url-service/url.service';\n\n@Component({\n  selector: 'app-shortener',\n  templateUrl: './shortener.component.html',\n  styleUrls: ['./shortener.component.css']\n})\nexport class ShortenerComponent {\n  \n  originalUrl: string = \"\";\n  shortenedUrl: string = \"\";\n  hashLength: number = 0;\n\n  constructor(private urlService: UrlService, private settingsService: SettingsService) {\n    this.settingsService.hashLength.subscribe(\n      hashLength => this.hashLength = hashLength\n    );\n  }\n\n  checkUrl() {\n    this.urlService.checkUrl(this.originalUrl, this.hashLength).subscribe(\n      (shortenedUrl: any) => this.shortenedUrl = shortenedUrl.shortenedUrl as string,\n      error => {\n        this.originalUrl = \"\";\n        this.shortenedUrl = \"\";\n      }\n    );\n  }\n\n  addUrl() {\n    if (this.originalUrl && this.shortenedUrl) {\n      this.urlService.addUrl(this.originalUrl, this.shortenedUrl).subscribe(\n        ok => {\n          this.originalUrl = \"\";\n          this.shortenedUrl = \"\";\n\n          alert(Message.getString(ok as Message));\n        },\n        error => alert(Message.getString(error.error as Message))\n      )\n    }\n  }\n}\n","<div class=\"shortener-wrapper\">\n    <div class=\"header\">Shortener</div>\n    <div class=\"shortener-form\">\n        <input type=\"text\" class=\"input\" placeholder=\"Original URL...\" (input)=\"checkUrl()\" [(ngModel)]=\"originalUrl\">\n        <input type=\"text\" class=\"input-readonly\" [value]=\"shortenedUrl\" placeholder=\"Shortened URL...\" readonly>\n        <div class=\"button\" (click)=\"addUrl()\">Add</div>\n    </div>    \n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}