{"ast":null,"code":"import { delay } from 'rxjs';\nimport { Api } from 'src/app/data/api';\nimport { AuthForm } from 'src/app/data/authForm';\nimport { Constants } from 'src/app/data/constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth-service/auth.service\";\nimport * as i2 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(authService) {\n    this.authService = authService;\n    this.title = Constants.login;\n    this.alternativeTitle = Constants.register;\n    this.authForm = new AuthForm();\n    this.isAuthenticated = false;\n    this.authService.isAuthenticated.subscribe(isAuthenticated => {\n      this.isAuthenticated = isAuthenticated;\n      if (this.isAuthenticated) {\n        window.location.href = Api.originApi;\n      }\n    });\n  }\n  changeAction() {\n    let temp = this.title;\n    this.title = this.alternativeTitle;\n    this.alternativeTitle = temp;\n  }\n  action() {\n    if (this.title == Constants.login) {\n      this.login();\n    } else if (this.title == Constants.register) {\n      this.registration();\n    }\n  }\n  login() {\n    this.authService.login(this.authForm).subscribe(ok => {\n      this.authService.isAuthenticated.next(true);\n      this.authService.isAdminQuery().subscribe(isAdmin => this.authService.isAdmin.next(isAdmin));\n      console.log(ok);\n      awaiyt;\n      delay(10000);\n      alert(ok.getString());\n    }, error => console.log(error));\n  }\n  registration() {\n    this.authService.registration(this.authForm).subscribe(ok => this.authService.isAuthenticated.next(true), error => console.log(error));\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 10,\n  vars: 5,\n  consts: [[1, \"login-wrapper\"], [1, \"header\"], [1, \"login-form\", 3, \"keyup.enter\"], [\"type\", \"text\", \"placeholder\", \"Login...\", 1, \"input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"placeholder\", \"Password...\", 1, \"input\", 3, \"ngModel\", \"ngModelChange\"], [1, \"button\", 3, \"click\"], [1, \"text\", 3, \"click\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵlistener(\"keyup.enter\", function LoginComponent_Template_div_keyup_enter_3_listener() {\n        return ctx.action();\n      });\n      i0.ɵɵelementStart(4, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.authForm.login = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.authForm.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 5);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_div_click_6_listener() {\n        return ctx.action();\n      });\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 6);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_div_click_8_listener() {\n        return ctx.changeAction();\n      });\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.authForm.login);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.authForm.password);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Or \", ctx.alternativeTitle, \"...\");\n    }\n  },\n  dependencies: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n  styles: [\".login-wrapper[_ngcontent-%COMP%] {\\r\\n    background-color: var(--header-color);\\r\\n    border: 1px solid black;\\r\\n    box-shadow: 0 0 5px black;\\r\\n    min-width: 700px;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n}\\r\\n.header[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    padding: 10px;\\r\\n    background-color: var(--dark-color);\\r\\n    color: var(--font-color);\\r\\n    font-size: var(--title-font-size);\\r\\n}\\r\\n.login-form[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    gap: 10px;\\r\\n    padding: 20px;\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n.input[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    padding: 5px;\\r\\n    box-sizing: border-box;\\r\\n    transition: var(--main-transition);\\r\\n    border: 0;\\r\\n    outline: 1px solid var(--secondary-color);\\r\\n    font-size: var(--font-size);\\r\\n    background-color: var(--dark-color);\\r\\n    color: var(--font-color);\\r\\n    transform: scale(var(--scale-before-big));\\r\\n}\\r\\n.input[_ngcontent-%COMP%]:focus {\\r\\n    outline: 5px solid var(--secondary-color);\\r\\n    transform: scale(var(--scale-after));  \\r\\n}\\r\\n.button[_ngcontent-%COMP%] {\\r\\n    padding: 10px 20px;\\r\\n    font-size: var(--title-font-size);\\r\\n    box-sizing: border-box;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    background-color: var(--dark-color);\\r\\n    border: 1px solid var(--secondary-color);\\r\\n    color: var(--font-color);\\r\\n    transition: var(--main-transition);\\r\\n    cursor: pointer;\\r\\n    border-radius: 30px;\\r\\n    transform: scale(var(--scale-before));\\r\\n}\\r\\n.button[_ngcontent-%COMP%]:hover {\\r\\n    transform: scale(var(--scale-after));\\r\\n}\\r\\n.text[_ngcontent-%COMP%] {\\r\\n    text-decoration: underline;\\r\\n    font-size: var(--font-size);\\r\\n    color: var(--secondary-color);\\r\\n    transition: var(--main-transition);\\r\\n    cursor: pointer;\\r\\n    scale: var(--scale-before);\\r\\n}\\r\\n.text[_ngcontent-%COMP%]:hover {\\r\\n    scale: var(--scale-after);\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0kscUNBQXFDO0lBQ3JDLHVCQUF1QjtJQUN2Qix5QkFBeUI7SUFDekIsZ0JBQWdCO0lBQ2hCLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsYUFBYTtJQUNiLG1DQUFtQztJQUNuQyx3QkFBd0I7SUFDeEIsaUNBQWlDO0FBQ3JDO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLFNBQVM7SUFDVCxhQUFhO0lBQ2Isc0JBQXNCO0FBQzFCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLHNCQUFzQjtJQUN0QixrQ0FBa0M7SUFDbEMsU0FBUztJQUNULHlDQUF5QztJQUN6QywyQkFBMkI7SUFDM0IsbUNBQW1DO0lBQ25DLHdCQUF3QjtJQUN4Qix5Q0FBeUM7QUFDN0M7QUFDQTtJQUNJLHlDQUF5QztJQUN6QyxvQ0FBb0M7QUFDeEM7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixpQ0FBaUM7SUFDakMsc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLG1DQUFtQztJQUNuQyx3Q0FBd0M7SUFDeEMsd0JBQXdCO0lBQ3hCLGtDQUFrQztJQUNsQyxlQUFlO0lBQ2YsbUJBQW1CO0lBQ25CLHFDQUFxQztBQUN6QztBQUNBO0lBQ0ksb0NBQW9DO0FBQ3hDO0FBQ0E7SUFDSSwwQkFBMEI7SUFDMUIsMkJBQTJCO0lBQzNCLDZCQUE2QjtJQUM3QixrQ0FBa0M7SUFDbEMsZUFBZTtJQUNmLDBCQUEwQjtBQUM5QjtBQUNBO0lBQ0kseUJBQXlCO0FBQzdCIiwic291cmNlc0NvbnRlbnQiOlsiLmxvZ2luLXdyYXBwZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taGVhZGVyLWNvbG9yKTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDVweCBibGFjaztcclxuICAgIG1pbi13aWR0aDogNzAwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuLmhlYWRlciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kYXJrLWNvbG9yKTtcclxuICAgIGNvbG9yOiB2YXIoLS1mb250LWNvbG9yKTtcclxuICAgIGZvbnQtc2l6ZTogdmFyKC0tdGl0bGUtZm9udC1zaXplKTtcclxufVxyXG4ubG9naW4tZm9ybSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGdhcDogMTBweDtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG59XHJcbi5pbnB1dCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1tYWluLXRyYW5zaXRpb24pO1xyXG4gICAgYm9yZGVyOiAwO1xyXG4gICAgb3V0bGluZTogMXB4IHNvbGlkIHZhcigtLXNlY29uZGFyeS1jb2xvcik7XHJcbiAgICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZSk7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kYXJrLWNvbG9yKTtcclxuICAgIGNvbG9yOiB2YXIoLS1mb250LWNvbG9yKTtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUodmFyKC0tc2NhbGUtYmVmb3JlLWJpZykpO1xyXG59XHJcbi5pbnB1dDpmb2N1cyB7XHJcbiAgICBvdXRsaW5lOiA1cHggc29saWQgdmFyKC0tc2Vjb25kYXJ5LWNvbG9yKTtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUodmFyKC0tc2NhbGUtYWZ0ZXIpKTsgIFxyXG59XHJcbi5idXR0b24ge1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgZm9udC1zaXplOiB2YXIoLS10aXRsZS1mb250LXNpemUpO1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kYXJrLWNvbG9yKTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXNlY29uZGFyeS1jb2xvcik7XHJcbiAgICBjb2xvcjogdmFyKC0tZm9udC1jb2xvcik7XHJcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1tYWluLXRyYW5zaXRpb24pO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMzBweDtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUodmFyKC0tc2NhbGUtYmVmb3JlKSk7XHJcbn1cclxuLmJ1dHRvbjpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06IHNjYWxlKHZhcigtLXNjYWxlLWFmdGVyKSk7XHJcbn1cclxuLnRleHQge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZSk7XHJcbiAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5LWNvbG9yKTtcclxuICAgIHRyYW5zaXRpb246IHZhcigtLW1haW4tdHJhbnNpdGlvbik7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBzY2FsZTogdmFyKC0tc2NhbGUtYmVmb3JlKTtcclxufVxyXG4udGV4dDpob3ZlciB7XHJcbiAgICBzY2FsZTogdmFyKC0tc2NhbGUtYWZ0ZXIpO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["delay","Api","AuthForm","Constants","LoginComponent","constructor","authService","login","register","isAuthenticated","subscribe","window","location","href","originApi","changeAction","temp","title","alternativeTitle","action","registration","authForm","ok","next","isAdminQuery","isAdmin","console","log","awaiyt","alert","getString","error","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\LEGA-USER\\source\\repos\\InforceTask\\ClientApp\\src\\app\\components\\login\\login.component.ts","C:\\Users\\LEGA-USER\\source\\repos\\InforceTask\\ClientApp\\src\\app\\components\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { delay } from 'rxjs';\nimport { Api } from 'src/app/data/api';\nimport { AuthForm } from 'src/app/data/authForm';\nimport { Constants } from 'src/app/data/constants';\nimport { Message } from 'src/app/data/message';\nimport { AuthService } from 'src/app/services/auth-service/auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  title: string = Constants.login;\n  alternativeTitle: string = Constants.register;\n\n  authForm: AuthForm = new AuthForm();\n\n  isAuthenticated: boolean = false;\n\n  constructor(private authService: AuthService) {\n    this.authService.isAuthenticated.subscribe(\n      isAuthenticated => {\n        this.isAuthenticated = isAuthenticated\n\n        if (this.isAuthenticated) {\n          window.location.href = Api.originApi;\n        }\n      }\n    );\n  }\n\n  changeAction() {\n    let temp = this.title;\n    this.title = this.alternativeTitle;\n    this.alternativeTitle = temp;\n  }\n\n  action() {\n    if (this.title == Constants.login) {\n      this.login();\n    }\n    else if (this.title == Constants.register) {\n      this.registration();\n    }\n  }\n\n  login() {\n    this.authService.login(this.authForm).subscribe(\n      ok => {\n        this.authService.isAuthenticated.next(true);\n        this.authService.isAdminQuery().subscribe(\n          isAdmin => this.authService.isAdmin.next(isAdmin as boolean)\n        );\n\n        console.log(ok);\n        awaiyt delay(10000);\n        alert((ok as Message).getString());\n      },\n      error => console.log(error)\n    );\n  }\n\n  registration() {\n    this.authService.registration(this.authForm).subscribe(\n      ok => this.authService.isAuthenticated.next(true),\n      error => console.log(error)\n    );\n  }\n}\n","<div class=\"login-wrapper\">\n    <div class=\"header\">{{title}}</div>\n    <div class=\"login-form\" (keyup.enter)=\"action()\">\n        <input type=\"text\" placeholder=\"Login...\" class=\"input\" [(ngModel)]=\"authForm.login\">\n        <input type=\"password\" placeholder=\"Password...\" class=\"input\" [(ngModel)]=\"authForm.password\">\n        <div class=\"button\" (click)=\"action()\">{{title}}</div>\n        <div class=\"text\" (click)=\"changeAction()\">Or {{alternativeTitle}}...</div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}